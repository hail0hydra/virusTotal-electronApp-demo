<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>VirusTotal Checker</title>
    <style>
      /* Global styles */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background: #121212;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
      }

      /* Card layout */
      .card {
        background: #1e1e1e;
        border-radius: 12px;
        padding: 30px;
        width: 100%;
        max-width: 500px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      /* Header */
      h1 {
        font-size: 2rem;
        color: #2196f3;
        text-align: center;
        margin-bottom: 10px;
      }

      /* Buttons */
      button {
        padding: 12px 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: bold;
        transition: background-color 0.3s;
      }

      #pickFile {
        background-color: #2196f3;
        color: #fff;
      }

      #pickFile:hover {
        background-color: #1976d2;
      }

      #scanbutton {
        background-color: #f44336;
        color: #fff;
      }

      #scanbutton:hover {
        background-color: #d32f2f;
      }

      /* Output area */
      #output {
        background-color: #121212;
        padding: 15px;
        border: 1px solid #333;
        border-radius: 8px;
        min-height: 50px;
        font-size: 1.1rem;
        white-space: pre-wrap;
        color: #fff;
      }

      /* Footer social links */
      .footer {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
      }

      .footer a {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #fff;
        text-decoration: none;
        font-weight: bold;
        transition: color 0.3s;
      }

      .footer a:hover {
        color: #2196f3;
      }

      .footer svg {
        width: 20px;
        height: 20px;
        fill: currentColor;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>VirusTotal Checker</h1>
      <button id="pickFile">Pick File</button>
      <button id="scanbutton">Scan File</button>
      <pre id="output"></pre>

      <div class="footer">
        <a href="https://github.com/hail0hydra" target="_blank">
          <svg viewBox="0 0 16 16" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.01.08-2.12 0 0 .67-.22 2.2.82a7.56 7.56 0 012.01-.27c.68.003 1.36.092 2.01.27 1.53-1.04 2.2-.82 2.2-.82.44 1.11.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
          GitHub
        </a>
        <a href="https://medium.com/@avinasharma.2412" target="_blank">
          <svg viewBox="0 0 256 256" aria-hidden="true"><path d="M128 0C57.31 0 0 57.31 0 128s57.31 128 128 128 128-57.31 128-128S198.69 0 128 0zm0 236C65.21 236 20 190.79 20 128S65.21 20 128 20s108 45.21 108 108-45.21 108-108 108z"/></svg>
          Medium
        </a>
      </div>
    </div>

    <script>
      const pickBtn = document.getElementById("pickFile");
      const scanBtn = document.getElementById("scanbutton");
      const output = document.getElementById("output");

      let filePath = null;

      pickBtn.addEventListener("click", async () => {
        const result = await window.electronAPI.pickFile();
        if (result && result.filePaths && result.filePaths[0]) {
          filePath = result.filePaths[0];
          output.textContent = `Picked file: ${filePath}`;
        } else {
          output.textContent = "No file selected!";
        }
      });

      scanBtn.addEventListener("click", async () => {
        if (!filePath) {
          output.textContent = "No file selected!";
          return;
        }

        const result = await window.electronAPI.scanFile(filePath);
        if (typeof result === "number") {
          output.textContent = result > 0 ? "Malicious üòà" : "Safe üòç";
        } else {
          output.textContent = JSON.stringify(result, null, 2);
        }
      });
    </script>
  </body>
</html>

